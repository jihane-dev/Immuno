{% load static %}

<div class="result-container">
    <!-- Banni√®re avec mascotte -->
    <div class="result-banner">
        {% if resultat.score > 10 %}
            <img src="https://res.cloudinary.com/upcloudqr/image/upload/v1749649252/img/happy_mascotte_zxsozh.png" class="result-mascotte happy">
            <div class="bubble">üéâ Bravo ! Tu as obtenu {{ resultat.score }}% !</div>
        {% else %}
            <img src="https://res.cloudinary.com/upcloudqr/image/upload/v1749649280/img/timer_mascotte_b9mzhw.png" class="result-mascotte sad">
            <div class="bubble">üò¢ Courage ! Tu feras mieux la prochaine fois !</div>
        {% endif %}
    </div>

    <h2 class="quiz-title">R√©sultat du Quiz : {{ quiz.titre }}</h2>
    
    {% if resultat %}
        <p class="score">Votre score : <strong>{{ resultat.score }}%</strong></p>
    {% else %}
        <p>Aucun r√©sultat trouv√©.</p>
    {% endif %}

    <div class="btn-group">
        <a href="{% url 'passer_quiz' quiz.id %}" class="custom-btn">‚Ü©Ô∏è Refaire le quiz</a>
        <a href="{% url 'accueil' %}" class="custom-btn">üè† Accueil</a>
        <a href="{% url 'liste_quiz' %}" class="custom-btn">üìã Liste des quiz</a>
    </div>
</div>

<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        background-color: #f2f6f9;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
    }

    .result-container {
        background: white;
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        max-width: 500px;
        width: 90%;
        text-align: center;
        position: relative;
    }

    .result-banner {
        background: linear-gradient(to right, #209c91, #b0cf91, white);
        border-radius: 12px;
        padding: 20px;
        color: white;
        position: relative;
        margin-bottom: 25px;
    }

    .result-mascotte {
        width: 70px;
        height: 70px;
    }

    .happy {
        animation: bounce 1s infinite;
    }

    .sad {
        animation: shake 1s infinite;
    }

    .bubble {
        background: white;
        color: #333;
        padding: 10px 16px;
        border-radius: 10px;
        font-size: 1em;
        margin-top: 10px;
        display: inline-block;
        box-shadow: 1px 2px 6px rgba(0,0,0,0.2);
    }

    .quiz-title {
        font-size: 1.5em;
        margin-bottom: 15px;
        color: #222;
    }

    .score {
        font-size: 1.2em;
        margin-bottom: 25px;
        color: #444;
    }

    .btn-group {
        display: flex;
        flex-direction: column;
        gap: 10px;
        align-items: center;
    }

    .custom-btn {
        text-decoration: none;
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        font-weight: bold;
        transition: background-color 0.3s;
        width: 80%;
        text-align: center;
    }

    .custom-btn:hover {
        background-color: #0056b3;
    }

    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }

    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        50% { transform: translateX(5px); }
        75% { transform: translateX(-5px); }
    }
</style>
